{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Activants46\\\\Desktop\\\\added\\\\KhazanahMobileApp\\\\app\\\\screen\\\\LoginScreen.js\",\n    _this2 = this;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { baseURLAPI, baseURL } from \"../../Global\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { div } from \"react-native-web/dist/index\";\nimport { Icon } from \"react-native-web/dist/index\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Google from \"expo-google-app-auth\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\n\nvar axios = require(\"axios\");\n\nimport Constants from \"expo-constants\";\n\nvar LoginScreen = function (_React$Component) {\n  _inherits(LoginScreen, _React$Component);\n\n  var _super = _createSuper(LoginScreen);\n\n  function LoginScreen(props) {\n    var _this;\n\n    _classCallCheck(this, LoginScreen);\n\n    _this = _super.call(this, props);\n\n    _this.signUpUser = function _callee(email, password) {\n      var body;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Keyboard.dismiss();\n              body = {\n                TX_USER_NAME: email,\n                TX_USER_EMAIL: email,\n                TX_USER_PASSWORD: password\n              };\n              console.log(baseURLAPI);\n              axios.post(baseURLAPI + \"/auth/register\", body).then(function (response) {\n                if (response.data.jwtToken) {\n                  AsyncStorage.setItem(\"jwtToken\", response.data.jwtToken);\n\n                  _this.setState({\n                    signedIn: true,\n                    name: response.data.jwtToken,\n                    photoUrl: \"result.user.photoUrl\"\n                  });\n                }\n              }).catch(function (error) {\n                console.log(\"error\");\n                console.log(error);\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.signInUser = function _callee2(email, password) {\n      var body;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              Keyboard.dismiss();\n              body = {\n                TX_USER_NAME: email,\n                TX_USER_EMAIL: email,\n                TX_USER_PASSWORD: password\n              };\n              console.log(baseURLAPI);\n              axios.post(baseURLAPI + \"/auth/login\", body).then(function (response) {\n                if (response.data.jwtToken) {\n                  AsyncStorage.setItem(\"jwtToken\", response.data.jwtToken);\n\n                  _this.setState({\n                    signedIn: true,\n                    name: response.data.jwtToken,\n                    photoUrl: \"result.user.photoUrl\"\n                  });\n                }\n              }).catch(function (error) {\n                console.log(\"error\");\n                console.log(error);\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.signIn = function _callee3() {\n      var result;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(Google.logInAsync({\n                androidClientId: \"770480272379-786um8vmqi9p35ingldm4celsrk2jshi.apps.googleusercontent.com\",\n                iosClientId: \"770480272379-rlr3mcpthnr02t3rul9ls1u5p4k2bsm6.apps.googleusercontent.com\",\n                scopes: [\"profile\", \"email\"]\n              }));\n\n            case 3:\n              result = _context3.sent;\n\n              if (result.type === \"success\") {\n                _this.setState({\n                  signedIn: true,\n                  name: result.user.name,\n                  photoUrl: result.user.photoUrl\n                });\n              } else {\n                console.log(\"cancelled\");\n              }\n\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(\"error\", _context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    _this.state = {\n      signedIn: false,\n      name: \"\",\n      photoUrl: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(LoginScreen, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }\n      }, this.state.signedIn ? React.createElement(LoggedInPage, {\n        name: this.state.name,\n        photoUrl: this.state.photoUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }) : React.createElement(LoginPage, {\n        signIn: this.signIn,\n        signUpUser: this.signUpUser,\n        signInUser: this.signInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n\n  return LoginScreen;\n}(React.Component);\n\nexport { LoginScreen as default };\n\nvar LoginPage = function LoginPage(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      signupView = _useState2[0],\n      setsignupView = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setemailCredencials = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setpasswordCredencials = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      name = _useState8[0],\n      setnameCredencials = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      picture = _useState10[0],\n      setpictureCredencials = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      phone = _useState12[0],\n      setphoneCredencials = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      url = _useState14[0],\n      seturlCredencials = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      image = _useState16[0],\n      setImage = _useState16[1];\n\n  useEffect(function () {\n    (function _callee4() {\n      var _await$ImagePicker$re, status;\n\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(Platform.OS !== \"web\")) {\n                _context4.next = 6;\n                break;\n              }\n\n              _context4.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n            case 3:\n              _await$ImagePicker$re = _context4.sent;\n              status = _await$ImagePicker$re.status;\n\n              if (status !== \"granted\") {\n                alert(\"Sorry, we need camera roll permissions to make this work!\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              base64: true,\n              aspect: [4, 4],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context5.sent;\n            console.log(result);\n            console.log(\"image asset\", result);\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var viewSignUp = function viewSignUp() {\n    setsignupView(!signupView);\n  };\n\n  var imageadd = function imageadd() {\n    imagePicker.open({\n      takePhoto: true,\n      useLastPhoto: true,\n      chooseFromLibrary: true\n    }).then(function (_ref) {\n      var uri = _ref.uri,\n          width = _ref.width,\n          height = _ref.height;\n      console.log(\"image asset\", uri, width, height);\n      seturlCredencials(uri);\n      console.log(\"image asset\", uri.base64, width, height);\n    }, function (error) {\n      console.log(\"error\", error);\n    });\n  };\n\n  return React.createElement(View, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }, signupView ? React.createElement(View, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.header,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, \"Register\"), React.createElement(Button, {\n    title: \"Pick an image from camera roll\",\n    onPress: pickImage,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }), image ? React.createElement(Image, {\n    source: {\n      uri: image\n    },\n    style: {\n      width: 100,\n      height: 100,\n      borderRadius: \"50%\"\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 22\n    }\n  }) : React.createElement(TouchableOpacity, {\n    onPress: pickImage,\n    style: styles.text,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\"\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"Add a profile icture\")), React.createElement(TextInput, {\n    style: styles.TextInput,\n    onChangeText: function onChangeText(name) {\n      return setnameCredencials(name);\n    },\n    underlineColorAndroid: \"rgba(0,0,0,0)\",\n    placeholder: \"Name\",\n    placeholderTextColor: \"#002f6c\",\n    selectionColor: \"#fff\",\n    keyboardType: \"default\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    onChangeText: function onChangeText(email) {\n      return setemailCredencials(email);\n    },\n    underlineColorAndroid: \"rgba(0,0,0,0)\",\n    placeholder: \"Email\",\n    placeholderTextColor: \"#002f6c\",\n    selectionColor: \"#fff\",\n    keyboardType: \"email-address\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    onChangeText: function onChangeText(phone) {\n      return setphoneCredencials(phone);\n    },\n    underlineColorAndroid: \"rgba(0,0,0,0)\",\n    placeholder: \"Phone\",\n    placeholderTextColor: \"#002f6c\",\n    selectionColor: \"#fff\",\n    keyboardType: \"numeric\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    onChangeText: function onChangeText(password) {\n      return setpasswordCredencials(password);\n    },\n    underlineColorAndroid: \"rgba(0,0,0,0)\",\n    placeholder: \"Password\",\n    placeholderTextColor: \"#002f6c\",\n    selectionColor: \"#fff\",\n    secureTextEntry: true,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.signUpUser(email, password);\n    },\n    style: styles.UserButton,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\"\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, \"Register\")), React.createElement(TouchableOpacity, {\n    onPress: viewSignUp,\n    style: styles.text,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\"\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  }, \"Sign-In\"))) : React.createElement(View, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.header,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 11\n    }\n  }, \"Login\"), React.createElement(TextInput, {\n    style: styles.TextInput,\n    onChangeText: function onChangeText(email) {\n      return setemailCredencials(email);\n    },\n    underlineColorAndroid: \"rgba(0,0,0,0)\",\n    placeholder: \"Email\",\n    placeholderTextColor: \"#002f6c\",\n    selectionColor: \"#fff\",\n    keyboardType: \"email-address\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    onChangeText: function onChangeText(password) {\n      return setpasswordCredencials(password);\n    },\n    underlineColorAndroid: \"rgba(0,0,0,0)\",\n    placeholder: \"Password\",\n    placeholderTextColor: \"#002f6c\",\n    selectionColor: \"#fff\",\n    secureTextEntry: true,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.signInUser(email, password);\n    },\n    style: styles.UserButton,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\"\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, \"Login\")), React.createElement(TouchableOpacity, {\n    onPress: viewSignUp,\n    style: styles.text,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#000000\"\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  }, \"Not a user? Sign Up\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.signIn();\n    },\n    style: styles.googleButton,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\"\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, \"Sign in with Google\"))));\n};\n\nvar LoggedInPage = function LoggedInPage(props) {\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.header,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }\n  }, \"Welcome:\", props.name), React.createElement(Image, {\n    style: styles.image,\n    source: {\n      uri: props.photoUrl\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#fff\"\n  },\n  header: {\n    fontSize: 25\n  },\n  image: {\n    marginTop: 15,\n    width: 150,\n    height: 150,\n    borderColor: \"rgba(0,0,0,0.2)\",\n    borderWidth: 3,\n    borderRadius: 150\n  },\n  text: {\n    width: 250,\n    marginTop: 25,\n    alignContent: \"center\",\n    borderRadius: 4,\n    paddingVertical: 7,\n    alignItems: \"center\"\n  },\n  googleButton: {\n    borderColor: \"#3F80F6\",\n    backgroundColor: \"#3F80F6\",\n    width: 250,\n    borderWidth: 2,\n    marginTop: 25,\n    alignContent: \"center\",\n    borderRadius: 4,\n    paddingVertical: 7,\n    alignItems: \"center\"\n  },\n  UserButton: {\n    borderColor: \"#27AE62\",\n    backgroundColor: \"#27AE62\",\n    width: 250,\n    borderWidth: 2,\n    marginTop: 25,\n    alignContent: \"center\",\n    borderRadius: 23,\n    paddingVertical: 7,\n    alignItems: \"center\"\n  },\n  TextInput: {\n    width: 250,\n    borderWidth: 2,\n    marginTop: 15,\n    borderColor: \"#00716F\",\n    borderRadius: 23,\n    paddingVertical: 2,\n    paddingHorizontal: 30\n  }\n});","map":{"version":3,"sources":["C:/Users/Activants46/Desktop/added/KhazanahMobileApp/app/screen/LoginScreen.js"],"names":["React","useState","useEffect","useContext","baseURLAPI","baseURL","div","Icon","ImagePicker","Google","AsyncStorage","axios","require","Constants","LoginScreen","props","signUpUser","email","password","Keyboard","dismiss","body","TX_USER_NAME","TX_USER_EMAIL","TX_USER_PASSWORD","console","log","post","then","response","data","jwtToken","setItem","setState","signedIn","name","photoUrl","catch","error","signInUser","signIn","logInAsync","androidClientId","iosClientId","scopes","result","type","user","state","styles","container","Component","LoginPage","signupView","setsignupView","setemailCredencials","setpasswordCredencials","setnameCredencials","picture","setpictureCredencials","phone","setphoneCredencials","url","seturlCredencials","image","setImage","Platform","OS","requestMediaLibraryPermissionsAsync","status","alert","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","base64","aspect","quality","cancelled","uri","viewSignUp","imageadd","imagePicker","open","takePhoto","useLastPhoto","chooseFromLibrary","width","height","header","borderRadius","text","color","TextInput","UserButton","googleButton","LoggedInPage","StyleSheet","create","backgroundColor","fontSize","marginTop","borderColor","borderWidth","alignContent","paddingVertical","alignItems","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { baseURLAPI, baseURL } from \"../../Global\";\r\nimport {\r\n  Keyboard,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  Platform,\r\n  Button,\r\n  div,\r\n  Icon,\r\n  TextInput,\r\n} from \"react-native\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport * as Google from \"expo-google-app-auth\";\r\nimport AsyncStorage from \"@react-native-community/async-storage\";\r\nconst axios = require(\"axios\");\r\nimport Constants from \"expo-constants\";\r\n\r\nexport default class LoginScreen extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signedIn: false,\r\n      name: \"\",\r\n      photoUrl: \"\",\r\n    };\r\n  }\r\n  signUpUser = async (email, password) => {\r\n    Keyboard.dismiss();\r\n\r\n    const body = {\r\n      TX_USER_NAME: email,\r\n      TX_USER_EMAIL: email,\r\n      TX_USER_PASSWORD: password,\r\n    };\r\n    console.log(baseURLAPI);\r\n\r\n    axios\r\n      .post(baseURLAPI + \"/auth/register\", body)\r\n      .then((response) => {\r\n        if (response.data.jwtToken) {\r\n          AsyncStorage.setItem(\"jwtToken\", response.data.jwtToken);\r\n\r\n          this.setState({\r\n            signedIn: true,\r\n            name: response.data.jwtToken,\r\n            photoUrl: \"result.user.photoUrl\",\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\");\r\n\r\n        console.log(error);\r\n      });\r\n  };\r\n  signInUser = async (email, password) => {\r\n    Keyboard.dismiss();\r\n\r\n    const body = {\r\n      TX_USER_NAME: email,\r\n      TX_USER_EMAIL: email,\r\n      TX_USER_PASSWORD: password,\r\n    };\r\n    console.log(baseURLAPI);\r\n    axios\r\n      .post(baseURLAPI + \"/auth/login\", body)\r\n      .then((response) => {\r\n        if (response.data.jwtToken) {\r\n          AsyncStorage.setItem(\"jwtToken\", response.data.jwtToken);\r\n\r\n          this.setState({\r\n            signedIn: true,\r\n            name: response.data.jwtToken,\r\n            photoUrl: \"result.user.photoUrl\",\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\");\r\n\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  signIn = async () => {\r\n    try {\r\n      const result = await Google.logInAsync({\r\n        androidClientId:\r\n          \"770480272379-786um8vmqi9p35ingldm4celsrk2jshi.apps.googleusercontent.com\",\r\n        iosClientId:\r\n          \"770480272379-rlr3mcpthnr02t3rul9ls1u5p4k2bsm6.apps.googleusercontent.com\",\r\n        scopes: [\"profile\", \"email\"],\r\n      });\r\n\r\n      if (result.type === \"success\") {\r\n        this.setState({\r\n          signedIn: true,\r\n          name: result.user.name,\r\n          photoUrl: result.user.photoUrl,\r\n        });\r\n      } else {\r\n        console.log(\"cancelled\");\r\n      }\r\n    } catch (e) {\r\n      console.log(\"error\", e);\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <View style={styles.container}>\r\n        {this.state.signedIn ? (\r\n          <LoggedInPage name={this.state.name} photoUrl={this.state.photoUrl} />\r\n        ) : (\r\n          <LoginPage\r\n            signIn={this.signIn}\r\n            signUpUser={this.signUpUser}\r\n            signInUser={this.signInUser}\r\n          />\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst LoginPage = (props) => {\r\n  const [signupView, setsignupView] = useState(false);\r\n  const [email, setemailCredencials] = useState(\"\");\r\n  const [password, setpasswordCredencials] = useState(\"\");\r\n\r\n  const [name, setnameCredencials] = useState(\"\");\r\n  const [picture, setpictureCredencials] = useState(\"\");\r\n  const [phone, setphoneCredencials] = useState(\"\");\r\n\r\n  const [url, seturlCredencials] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (Platform.OS !== \"web\") {\r\n        const {\r\n          status,\r\n        } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n        if (status !== \"granted\") {\r\n          alert(\"Sorry, we need camera roll permissions to make this work!\");\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const pickImage = async () => {\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n      allowsEditing: true,\r\n      base64 :true,\r\n      aspect: [4, 4],\r\n      quality: 1,\r\n    });\r\n\r\n    console.log(result);\r\n    console.log(\"image asset\", result);\r\n    if (!result.cancelled) {\r\n      setImage(result.uri);\r\n    }\r\n  };\r\n\r\n  const viewSignUp = () => {\r\n    setsignupView(!signupView);\r\n  };\r\n  const imageadd = () => {\r\n    imagePicker\r\n      .open({\r\n        takePhoto: true,\r\n        useLastPhoto: true,\r\n        chooseFromLibrary: true,\r\n      })\r\n      .then(\r\n        ({ uri, width, height }) => {\r\n          console.log(\"image asset\", uri, width, height);\r\n          seturlCredencials(uri);\r\n          console.log(\"image asset\", uri.base64, width, height);\r\n        },\r\n        (error) => {\r\n          // Typically, user cancel\r\n          console.log(\"error\", error);\r\n        }\r\n      );\r\n  };\r\n\r\n  return (\r\n    <View>\r\n      {signupView ? (\r\n        <View>\r\n          <Text style={styles.header}>Register</Text>\r\n\r\n          <Button title=\"Pick an image from camera roll\" onPress={pickImage} />\r\n         \r\n          \r\n          {image ? ( <Image\r\n              source={{ uri: image }}\r\n              style={{ width: 100, height: 100 ,borderRadius: \"50%\"}}\r\n            />): ( \r\n              <TouchableOpacity onPress={pickImage} style={styles.text}>\r\n              <Text\r\n                style={{\r\n                  color: \"#fff\",\r\n                }}\r\n              >\r\n               Add a profile icture\r\n              </Text>\r\n            </TouchableOpacity>\r\n\r\n             ) }\r\n          <TextInput\r\n            style={styles.TextInput}\r\n            onChangeText={(name) => setnameCredencials(name)}\r\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\r\n            placeholder=\"Name\"\r\n            placeholderTextColor=\"#002f6c\"\r\n            selectionColor=\"#fff\"\r\n            keyboardType=\"default\"\r\n          />\r\n\r\n          <TextInput\r\n            style={styles.TextInput}\r\n            onChangeText={(email) => setemailCredencials(email)}\r\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\r\n            placeholder=\"Email\"\r\n            placeholderTextColor=\"#002f6c\"\r\n            selectionColor=\"#fff\"\r\n            keyboardType=\"email-address\"\r\n          />\r\n\r\n          <TextInput\r\n            style={styles.TextInput}\r\n            onChangeText={(phone) => setphoneCredencials(phone)}\r\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\r\n            placeholder=\"Phone\"\r\n            placeholderTextColor=\"#002f6c\"\r\n            selectionColor=\"#fff\"\r\n            keyboardType=\"numeric\"\r\n          />\r\n\r\n          <TextInput\r\n            style={styles.TextInput}\r\n            onChangeText={(password) => setpasswordCredencials(password)}\r\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\r\n            placeholder=\"Password\"\r\n            placeholderTextColor=\"#002f6c\"\r\n            selectionColor=\"#fff\"\r\n            secureTextEntry={true}\r\n          />\r\n          <TouchableOpacity\r\n            onPress={() => props.signUpUser(email, password)}\r\n            style={styles.UserButton}\r\n          >\r\n            <Text\r\n              style={{\r\n                color: \"#fff\",\r\n              }}\r\n            >\r\n              Register\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity onPress={viewSignUp} style={styles.text}>\r\n            <Text\r\n              style={{\r\n                color: \"#fff\",\r\n              }}\r\n            >\r\n              Sign-In\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      ) : (\r\n        <View>\r\n          <Text style={styles.header}>Login</Text>\r\n\r\n          <TextInput\r\n            style={styles.TextInput}\r\n            onChangeText={(email) => setemailCredencials(email)}\r\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\r\n            placeholder=\"Email\"\r\n            placeholderTextColor=\"#002f6c\"\r\n            selectionColor=\"#fff\"\r\n            keyboardType=\"email-address\"\r\n          />\r\n\r\n          <TextInput\r\n            style={styles.TextInput}\r\n            onChangeText={(password) => setpasswordCredencials(password)}\r\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\r\n            placeholder=\"Password\"\r\n            placeholderTextColor=\"#002f6c\"\r\n            selectionColor=\"#fff\"\r\n            secureTextEntry={true}\r\n          />\r\n          <TouchableOpacity\r\n            onPress={() => props.signInUser(email, password)}\r\n            style={styles.UserButton}\r\n          >\r\n            <Text style={{ color: \"#fff\" }}>Login</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity onPress={viewSignUp} style={styles.text}>\r\n            <Text\r\n              style={{\r\n                color: \"#000000\",\r\n              }}\r\n            >\r\n              Not a user? Sign Up\r\n            </Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            onPress={() => props.signIn()}\r\n            style={styles.googleButton}\r\n          >\r\n            <Text style={{ color: \"#fff\" }}>Sign in with Google</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst LoggedInPage = (props) => {\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.header}>Welcome:{props.name}</Text>\r\n      <Image style={styles.image} source={{ uri: props.photoUrl }} />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  header: {\r\n    fontSize: 25,\r\n  },\r\n  image: {\r\n    marginTop: 15,\r\n    width: 150,\r\n    height: 150,\r\n    borderColor: \"rgba(0,0,0,0.2)\",\r\n    borderWidth: 3,\r\n    borderRadius: 150,\r\n  },\r\n  text: {\r\n    width: 250,\r\n    marginTop: 25,\r\n    alignContent: \"center\",\r\n    borderRadius: 4,\r\n    paddingVertical: 7,\r\n    alignItems: \"center\",\r\n  },\r\n  googleButton: {\r\n    borderColor: \"#3F80F6\",\r\n    backgroundColor: \"#3F80F6\",\r\n    width: 250,\r\n    borderWidth: 2,\r\n    marginTop: 25,\r\n    alignContent: \"center\",\r\n    borderRadius: 4,\r\n    paddingVertical: 7,\r\n    alignItems: \"center\",\r\n  },\r\n  UserButton: {\r\n    borderColor: \"#27AE62\",\r\n    backgroundColor: \"#27AE62\",\r\n    width: 250,\r\n    borderWidth: 2,\r\n    marginTop: 25,\r\n    alignContent: \"center\",\r\n    borderRadius: 23,\r\n    paddingVertical: 7,\r\n    alignItems: \"center\",\r\n  },\r\n  TextInput: {\r\n    width: 250,\r\n    borderWidth: 2,\r\n    marginTop: 15,\r\n    borderColor: \"#00716F\",\r\n    borderRadius: 23,\r\n    paddingVertical: 2,\r\n    paddingHorizontal: 30,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}